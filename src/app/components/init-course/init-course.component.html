<div class="cuerpo">
  <div class="Torso">
    <div
      id="carouselExampleCaptions"
      style="padding: 0"
      class="carousel slide medio"
      data-bs-ride="carousel"
    >
      <div class="carousel-indicators">
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleCaptions"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
      </div>

      <div class="carousel-inner ts">
        <div class="carousel-item active">
          <img
            src="../assets/img/renderizar.jpg"
            class="d-block w-100 ima1"
            alt="..."
          />
          <div class="carousel-caption d-md-block bg-dark texto-img">
            <h5>Make 3D design</h5>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="../assets/img/fotografia.jpg"
            class="d-block w-100 ima2"
            alt="..."
          />
          <div class="carousel-caption d-md-block bg-dark texto-img">
            <h5>Learn about photography</h5>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="../assets/img/moda.jpg"
            class="d-block w-100 ima3"
            alt="..."
          />
          <div class="carousel-caption d-md-block bg-dark texto-img">
            <h5>Learn about fashion</h5>
          </div>
        </div>
      </div>
      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExampleCaptions"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExampleCaptions"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
    <div class="Text-Introduction medio">
      <h1 class="subtitle">Take your creativity to the limit</h1>
      <p style="color: gray">
        Art is not just painting or imagining, you need to polish those skills
        and with us you will achieve those results you so much expect.
      </p>
    </div>
    <div
      class="Torso"
      style="background-color: rgba(227, 227, 227, 0.57); margin-bottom: 30px"
    >
      <div class="instituciones">
        <h1 class="subtitle" style="text-align: end">
          Institutions that recommend us
        </h1>
        <div class="recomendation">
          <div class="row" style="justify-content: center">
            <div class="col-4 col-md">
              <img src="../assets/img/LogoUCR.png" alt="UCR" />
            </div>
            <div class="col-4 col-md">
              <img src="../assets/img/una-logo.png" alt="UNA" />
            </div>
            <div class="col-4 col-md">
              <img src="../assets/img/udemylogo.png" alt="UDEMY" />
            </div>
            <div class="col-4 col-md">
              <img src="../assets/img/meta-logo.png" alt="META" />
            </div>
            <div class="col-4 col-md">
              <img src="../assets/img/googlelogo.png" alt="GOOGLE" />
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="Introduccion-curso medio" style="padding: 0 40px 0 40px">
      <div style="margin-bottom: 10px; height: 40px">
        <a class="text-link" href="#">See all <span>-></span></a>
      </div>
      <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner" style="height: 100%;">
          <div *ngFor="let courseGroup of getGroupedCourses(courses); let i = index" class="carousel-item" [ngClass]="{'active': i === 0}" >
            <div class="row" style="justify-content: center; height: 100%;">
              <div *ngFor="let course of courseGroup" class="col-6 col-md-3">
                <div class="card " (click)="getCourse(course)" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight"  style="cursor: pointer;"> 
                  <div class="d-flex justify-content-center pt-3 pb-3" style="background: #c6c4e57a;" >
                   <span class="material-symbols-outlined" style="font-size: 90px">{{getIconForCategory(course.categoria) }}</span>
                  </div>
                  
                  <div class="card-body">
                    <h5 class="card-title">{{ course.nombre }}</h5>
                    <p class="card-text">{{ getLongerNameCategory(course.categoria) }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      
        <button
          class="carousel-control-prev button"
          type="button"
          style="left: -20px"
          data-bs-target="#carouselExampleControls"
          data-bs-slide="prev"
        >
          <
        </button>
        <button
          class="carousel-control-next button"
          style="right: -20px"
          type="button"
          data-bs-target="#carouselExampleControls"
          data-bs-slide="next"
        >
          >
        </button>
      </div>
    </div>
    <div class="Torso" style="margin-bottom: 30px">
      <div class="categories">
        <div class="subcategorie" (click)="navigateToCourse('Photograph')">
          <img src="../assets/img/camara-min.png" class="imagen-categorie"/>
          <a>Photograph</a>
        </div>
        <div class="subcategorie"  (click)="navigateToCourse('Fashion')">
          <img src="../assets/img/fashion-min.png" class="imagen-categorie" />
          <a>fashion design</a>
        </div>
        <div class="subcategorie"  (click)="navigateToCourse('3D')">
          <img src="../assets/img/3D-min.png" class="imagen-categorie" />
          <a>3D design</a>
        </div>
        <div class="subcategorie"  (click)="navigateToCourse('Art')">
          <img src="../assets/img/arte-min.png" class="imagen-categorie" />
          <a>Principles of art</a>
        </div>
        <div class="subcategorie"   (click)="navigateToCourse('UI-UX')">
          <img src="../assets/img/UX-min.png" class="imagen-categorie" />
          <a>User experience</a>
        </div>
      </div>
    </div>
    <div
      class="Torso"
      style="background: gainsboro; margin-top: 20px; padding: 20px"
    >
      <div class="medio content-extra">
        <div class="img-student">
          <img
            src="../assets/img/ecito-w.jpg"
            alt="img"
            style="width: 40%; height: 350px"
          />
        </div>
        <div class="texto-student">
          <h3><strong>Certified students</strong></h3>
          <span
            >Over 300 students have successfully obtained certification through
            our courses, gaining valuable skills and knowledge. Notably, 70% of
            these graduates have gone on to establish their own businesses,
            applying the expertise and confidence they gained to build
            successful ventures.
          </span>
        </div>
      </div>
    </div>
    <!--Canvas y modal-->
    <div
      class="offcanvas offcanvas-end"
      tabindex="-1"
      id="offcanvasRight"
      aria-labelledby="offcanvasRightLabel"
      (hidden.bs.offcanvas)="CloseCanvas()"
    >
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasRightLabel">
          {{ getLongerNameCategory(selectedCourse.categoria) }}
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
          (click)="CloseCanvas()"
        ></button>
      </div>
      <div class="offcanvas-body">
        <div class="w-100 d-flex justify-content-center">
          <span class="material-symbols-outlined" style="font-size: 90px">{{
            getIconForCategory(selectedCourse.categoria)
          }}</span>
        </div>
        <div class="w-100 mt-3">
          <div class="d-flex w-100 justify-content-between">
            <p style="font-size: 18px; font-weight: 500">
              {{ selectedCourse.nombre }}
            </p>
            <p
              style="
                font-size: 18px;
                font-weight: 500;
                color: rgb(164, 164, 164);
              "
            >
              {{ selectedCourse.duracion | number : "1.0-0" }} hours
            </p>
          </div>
          <p>{{ selectedCourse.descripcion }}</p>
          <select
            class="form-select"
            aria-label="Default select example"
            (change)="onSelect($event)"
          >
            <option selected>select an offer
            </option>
            <option *ngFor="let oferta of filteredOfertas" [value]="oferta.id">
              Start {{ oferta.fechaInicio }}
            </option>
          </select>
          @if(selectedOffer != null){
          <div style="display: block; margin-top: 20px">
            <div class="d-flex w-100 justify-content-between">
              <p style="font-size: 16px; font-weight: 500; color: rgb(0, 0, 0)">
                Star: {{ selectedOffer.fechaInicio }}
              </p>
              <p style="font-size: 16px; font-weight: 500; color: rgb(0, 0, 0)">
                End: {{ selectedOffer.fechaFinal }}
              </p>
            </div>

            <p>
              Mode: <strong>{{ selectedOffer.modalidad }}</strong>
            </p>
            <p>
              Quotas: <strong>{{selectedOffer.cupos}}</strong>
            </p>
            @if(selectedOffer.modalidad == "Presential"){
            <p>
              <span style="font-weight: 600">ubicacion:</span>
              {{ selectedOffer.ubicacion }}
            </p>
            }@else {
            <p><span style="font-weight: 600">ubicacion:</span> Online</p>
            }
            <p style="font-weight: 600; color: #8f88ed">
              Cost: ${{ selectedCourse.costo }}
            </p>
            <div class="w-100 mt-2 d-flex justify-content-center">
              <button
                class="cta"
                data-bs-toggle="modal"
                data-bs-target="#exampleModal"
              >
                <span>Enroll in the course</span>
                <svg width="15px" height="10px" viewBox="0 0 13 10">
                  <path d="M1,5 L11,5"></path>
                  <polyline points="8 1 12 5 8 9"></polyline>
                </svg>
              </button>
            </div>
          </div>
          }
        </div>
      </div>
    </div>
    <div
      class="modal fade"
      id="exampleModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-fullscreen">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              Register for the course
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="modalSubCuerpo">
              <div
                style="
                  display: flex;
                  flex-direction: column;
                  align-items: center;
                  width: 100%;
                "
              >
                <form class="form">
                  <p class="form-title">Buy course</p>
                  <div class="w-100 d-flex justify-content-center mb-2">
                    <span
                      class="material-symbols-outlined"
                      style="font-size: 90px"
                      >{{ getIconForCategory(selectedCourse.categoria) }}</span
                    >
                  </div>
                  <div class="radio-input">
                    <label class="label">
                      <input
                        type="radio"
                        id="value-1"
                        checked=""
                        name="value-radio"
                        value="value-1"
                      />
                      <p class="text">Simpe movil</p>
                    </label>
                    <label class="label">
                      <input
                        type="radio"
                        id="value-2"
                        name="value-radio"
                        value="value-2"
                      />
                      <p class="text">Transaction</p>
                    </label>
                  </div>
                  <div class="detail-factura" style="margin-top: 20px">
                    <p><strong>Course: </strong> {{ selectedCourse.nombre }}</p>
                    <p>
                      <strong>Mode: </strong>
                      {{
                        selectedOffer
                          ? selectedOffer.modalidad
                          : "Sin modalidad"
                      }}
                    </p>
                    <p style="color: #8f88ed">
                      Cost: {{ selectedCourse.costo }}
                    </p>
                  </div>
                  <div
                    style="width: 100%; display: flex; justify-content: center"
                  >
                    <button class="BtnPay" (click)="createPay()">
                      Pay
                      <svg class="svgIcon" viewBox="0 0 576 512">
                        <path
                          d="M512 80c8.8 0 16 7.2 16 16v32H48V96c0-8.8 7.2-16 16-16H512zm16 144V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V224H528zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm56 304c-13.3 0-24 10.7-24 24s10.7 24 24 24h48c13.3 0 24-10.7 24-24s-10.7-24-24-24H120zm128 0c-13.3 0-24 10.7-24 24s10.7 24 24 24H360c13.3 0 24-10.7 24-24s-10.7-24-24-24H248z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
